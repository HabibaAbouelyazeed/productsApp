<section class="container">
    <h2 class="text-center fw-bold mb-5">Create a new account</h2>
    <div class="row justify-content-center">
        <div class="col-12 col-md-5">
            <form class="d-flex flex-column" [formGroup]="registerForm" (ngSubmit)="handleSubmit()">
                <div class="mb-3">
                    <label for="name" class="form-label">Name</label>
                    <input type="text" name="name" class="form-control" formControlName="name" id="name"
                        aria-describedby="nameHelp">
                    <div id="nameHelp" class="form-text text-danger"
                        *ngIf="registerForm.controls['name'].touched && registerForm.controls['name'].invalid">
                        <span *ngIf="registerForm.controls['name'].errors?.['required']">This field is required</span>
                        <span *ngIf="registerForm.controls['name'].errors?.['minlength']">Name length must be at least
                            3</span>
                    </div>
                </div>
                <div class="mb-3">
                    <label for="userName" class="form-label">User Name</label>
                    <input type="text" name="userName" class="form-control" formControlName="userName" id="userName"
                        aria-describedby="userNameHelp">
                    <div id="nameHelp" class="form-text text-danger"
                        *ngIf="registerForm.controls['userName'].touched && registerForm.controls['userName'].invalid">
                        <span *ngIf="registerForm.controls['userName'].errors?.['required']">
                            This field is required
                        </span>
                        <span *ngIf="registerForm.controls['userName'].errors?.['minlength']">username length must be at
                            least 3</span>
                        <span *ngIf="registerForm.controls['userName'].errors?.['pattern']">username can't contain white
                            spaces</span>
                    </div>
                </div>
                <div class="mb-3">
                    <label for="email" class="form-label">Email address</label>
                    <input type="email" name="email" class="form-control" id="email" formControlName="email"
                        aria-describedby="emailHelp">
                    <div id="nameHelp" class="form-text text-danger"
                        *ngIf="registerForm.controls['email'].touched && registerForm.controls['email'].invalid">
                        <span *ngIf="registerForm.controls['email'].errors?.['required']">This field is required</span>
                        <span *ngIf="registerForm.controls['email'].errors?.['email']">Invalid email format</span>
                    </div>
                </div>
                <div class="mb-3">
                    <label for="password" class="form-label">Password</label>
                    <div class="position-relative">
                        <input type="password" name="password" class="form-control" id="password" formControlName="password"
                            aria-describedby="passwordHelp" #passwordInpt>
                        <div (click)="togglePassword(passwordInpt)" class="position-absolute bottom-0 end-0">
                            <fa-icon [icon]="faEye" class="btn btn-dark"></fa-icon>
                        </div>
                    </div>
                    <div id="nameHelp" class="form-text text-danger"
                        *ngIf="registerForm.controls['password'].touched && registerForm.controls['password'].invalid">
                        <p *ngIf="registerForm.controls['password'].errors?.['required']">This field is
                            required</p>
                        <p *ngIf="registerForm.controls['password'].errors?.['minlength']">Password length should be
                            at least 8 </p>
                        <p *ngIf="registerForm.controls['password'].errors?.['pattern']">Password must contain at least
                            one
                            lowercase , one uppercase , one digit
                            and special character</p>

                    </div>
                </div>
                <div class="mb-3">
                    <label for="confirmPassword" class="form-label">Confirm Password</label>
                    <input type="password" name="confirmPassword" class="form-control" id="confirmPassword"
                        formControlName="confirmPassword" aria-describedby="confirmPasswordHelp">
                    <div id="nameHelp" class="form-text text-danger"
                        *ngIf="registerForm.controls['confirmPassword'].touched && registerForm.controls['confirmPassword'].invalid">
                        <span *ngIf="registerForm.controls['confirmPassword'].errors?.['required']">This field is
                            required</span>
                        <span *ngIf="registerForm.controls['confirmPassword'].errors?.['confirmPassword']">Password
                            doesn't match</span>
                    </div>
                </div>
                <button type="submit" class="btn btn-dark mx-auto" [disabled]="registerForm.invalid">Create account</button>
                <!--  -->
            </form>
            <div class="mt-3 text-center">
                <a routerLink="login">Already have an account? Login</a>
            </div>
        </div>
    </div>
</section>